let pokemonRepository=function(){let e=[];function t(){return e}function n(t){"object"==typeof t&&"name"in t?e.push(t):alert("Method not allowed! Make sure the pokemon you want to add is an <object> datatype")}function o(e){return a(),fetch(e.detailsUrl).then(function(e){return e.json()}).then(function(t){e.imageUrlFront=t.sprites.front_default,e.imageUrlBack=t.sprites.back_default,e.height=t.height,e.weight=t.weight,e.types=[];for(var n=0;n<t.types.length;n++)e.types.push(" "+t.types[n].type.name);e.abilities=[];for(var n=0;n<t.abilities.length;n++)e.abilities.push(" "+t.abilities[n].ability.name);i()}).catch(function(e){console.error(e),i()})}function a(){document.querySelector(".loading-message").classList.remove("hidden")}function i(){document.querySelector(".loading-message").classList.add("hidden")}function l(e){let t=$(".modal-body"),n=$(".modal-title");$(".modal-header"),n.empty(),t.empty();let o=$("<h1>"+e.name+"</h1>"),a=$('<img class="moda-img" style="width:50%">');a.attr("src",e.imageUrlFront);let i=$('<img class="moda-img" style="width:50%">');i.attr("src",e.imageUrlBack);let l=$("<p>Height: "+e.height+"</p>"),r=$("<p>Weight: "+e.weight+"</p>"),s=$("<p>Types: "+e.types+"</p>"),p=$("<p>Abilities: "+e.abilities+"</p>");n.append(o),t.append(a),t.append(i),t.append(l),t.append(r),t.append(s),t.append(p)}return document.querySelector("#pokemonModal").querySelector(".modal__overlay"),{getAll:t,add:n,addListItem:function e(t){pokemonRepository.loadDetails(t).then(function(){var e=$("#pokemon-list"),n=$('<div class="card m-3" style="width:400px"></div>'),a=$('<img class="card-img-top" alt="Card image" style="width:30%"/>');a.attr("src",t.imageUrlFront);var i=$('<div class="card-body"></div>'),r=$('<h4 class="card-title" >'+t.name+"</h4>"),s=$('<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#pokemonModal">See Profile</button>');e.append(n),n.append(a),n.append(i),i.append(r),i.append(s),s.on("click",function(e){(function e(t){o(t).then(function(){l(t)})})(t)})})},loadList:function e(){return a(),fetch("https://pokeapi.co/api/v2/pokemon/?limit=50").then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){n({name:e.name,detailsUrl:e.url}),i()})}).catch(function(e){console.error(e),i()})},loadDetails:o,showModal:l,searchPokemons:function e(){var t,n,o,a,i,l,r;for(l=0,n=(t=document.querySelector("#input__search-pokemons")).value.toUpperCase(),a=(o=document.querySelector("#pokemon-list")).querySelectorAll(".card");l<a.length;l++)(r=(i=a[l].getElementsByClassName("card-title")[0]).textContent||i.innerText).toUpperCase().indexOf(n)>-1?a[l].style.display="":a[l].style.display="none"}}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});